---
export interface Props {
  className?: string;
}

const { className = '' } = Astro.props;
---

<style>
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  .float-animation {
    animation: float 6s ease-in-out infinite;
  }

  .donut-chart {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: conic-gradient(
      #60a5fa 0deg 144deg,      /* Claude - 40% */
      #34d399 144deg 216deg,    /* ChatGPT - 20% */
      #a78bfa 216deg 270deg,    /* Cursor - 15% */
      #fbbf24 270deg 324deg,    /* Code - 15% */
      #f87171 324deg 360deg     /* Other - 10% */
    );
    position: relative;
  }

  .donut-chart::after {
    content: '';
    position: absolute;
    width: 60%;
    height: 60%;
    background: rgb(31 41 55);
    border-radius: 50%;
    top: 20%;
    left: 20%;
  }

  .dark .donut-chart::after {
    background: rgb(17 24 39);
  }
</style>

<div class={`mt-20 relative ${className}`}>
  <div class="bg-gray-900 dark:bg-gray-800 rounded-xl shadow-2xl p-4 float-animation">
    <div class="bg-gray-800 dark:bg-gray-900 rounded-lg p-4">
      <div class="flex items-center justify-between mb-3">
        <div class="flex items-center space-x-2">
          <div class="w-3 h-3 bg-red-500 rounded-full"></div>
          <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
          <div class="w-3 h-3 bg-green-500 rounded-full"></div>
        </div>
        <span class="text-xs text-gray-400">Analytics Dashboard</span>
      </div>
      <div class="space-y-3">
        <div class="bg-gray-700/50 dark:bg-gray-800/50 rounded p-3">
          <div class="text-xs text-gray-400 mb-1">Latest Prompt</div>
          <div class="text-sm text-gray-200">"Analyze sales data for Q4 and generate trend visualizations"</div>
          <div class="flex items-center mt-2 text-xs text-gray-400">
            <span class="mr-3">User: analyst_428</span>
            <span>Response: 187ms</span>
          </div>
        </div>

        <div class="grid grid-cols-3 gap-2">
          <div class="bg-blue-600/20 rounded p-2">
            <div class="text-xs text-blue-400">Tool Success</div>
            <div class="text-lg font-bold text-blue-300">100%</div>
          </div>
          <div class="bg-green-600/20 rounded p-2">
            <div class="text-xs text-green-400">Avg Response</div>
            <div class="text-lg font-bold text-green-300">47ms</div>
          </div>
          <div class="bg-purple-600/20 rounded p-2">
            <div class="text-xs text-purple-400">Total Calls</div>
            <div class="text-lg font-bold text-purple-300">4</div>
          </div>
        </div>

        <div class="grid grid-cols-2 gap-2">
          <div class="bg-gray-700/50 dark:bg-gray-800/50 rounded p-3">
            <div class="text-xs text-gray-400 mb-2">Most Called Tools</div>
            <div class="space-y-2">
              <div>
                <div class="flex items-center gap-2">
                  <span class="text-green-400 font-mono text-xs">readFile()</span>
                  <span class="text-2xs text-gray-500">2,847</span>
                </div>
                <div class="text-2xs text-gray-400">
                  <span class="text-blue-400">analyze, read, load</span>
                </div>
              </div>
              <div>
                <div class="flex items-center gap-2">
                  <span class="text-blue-400 font-mono text-xs">queryDatabase()</span>
                  <span class="text-2xs text-gray-500">1,932</span>
                </div>
                <div class="text-2xs text-gray-400">
                  <span class="text-blue-400">find, search, get</span>
                </div>
              </div>
              <div>
                <div class="flex items-center gap-2">
                  <span class="text-purple-400 font-mono text-xs">createChart()</span>
                  <span class="text-2xs text-gray-500">1,456</span>
                </div>
                <div class="text-2xs text-gray-400">
                  <span class="text-blue-400">visualize, plot, chart</span>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gray-700/50 dark:bg-gray-800/50 rounded p-3">
            <div class="text-xs text-gray-400 mb-3">Client Distribution</div>
            <div class="flex items-center gap-3">
              <div class="donut-chart flex-shrink-0"></div>
              <div class="flex-1 space-y-1">
                <div class="flex items-center justify-between text-2xs">
                  <div class="flex items-center gap-1">
                    <div class="w-2 h-2 bg-blue-400 rounded-full"></div>
                    <span class="text-gray-300">Claude</span>
                  </div>
                  <span class="text-gray-400">40%</span>
                </div>
                <div class="flex items-center justify-between text-2xs">
                  <div class="flex items-center gap-1">
                    <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                    <span class="text-gray-300">ChatGPT</span>
                  </div>
                  <span class="text-gray-400">20%</span>
                </div>
                <div class="flex items-center justify-between text-2xs">
                  <div class="flex items-center gap-1">
                    <div class="w-2 h-2 bg-purple-400 rounded-full"></div>
                    <span class="text-gray-300">Cursor</span>
                  </div>
                  <span class="text-gray-400">15%</span>
                </div>
                <div class="flex items-center justify-between text-2xs">
                  <div class="flex items-center gap-1">
                    <div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
                    <span class="text-gray-300">Code</span>
                  </div>
                  <span class="text-gray-400">15%</span>
                </div>
                <div class="flex items-center justify-between text-2xs">
                  <div class="flex items-center gap-1">
                    <div class="w-2 h-2 bg-red-400 rounded-full"></div>
                    <span class="text-gray-300">Other</span>
                  </div>
                  <span class="text-gray-400">10%</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
